<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Runners][1]
-   [AbstractClientRunner][2]
    -   [getReducers][3]
    -   [getModuleToRoutePrefixMap][4]
    -   [getApiClientClass][5]
-   [CoreClientRunner][6]
    -   [loadCommonSubModulesContexts][7]
    -   [getReducers][8]
-   [AbstractServerRunner][9]
-   [CoreServerRunner][10]
    -   [getPreLoader][11]
-   [Navigation][12]
-   [createStatusesReducer][13]
-   [createTablesModule][14]
-   [getBindActions][15]
-   [apiFindRecords][16]
-   [apiLoadRecords][17]
-   [apiEditRecord][18]
-   [actionLoadRecords][19]
-   [getLogLevel][20]
-   [createLogger][21]
-   [getBindActions][22]
-   [getTableInfo][23]
-   [createFilteredReducer][24]
-   [createReducer][25]
-   [createAllTypesMapCollectionReducer][26]
-   [mergeWithConcatArrays][27]
-   [clientConfig][28]
-   [initConfig][29]
-   [Info404][30]
-   [ThemeProvider][31]
-   [ThemeProvider][32]
-   [UniError][33]
-   [ListItem][34]
-   [Notifications][35]
-   [Loading][36]
-   [Link][37]
-   [MediaQuery][38]
-   [ReadMore][39]
-   [theme][40]
-   [className][41]
-   [default][42]
-   [default][43]
-   [default][44]
-   [decoratorContextModules][45]
-   [rootAppComponentProps][46]
-   [appUrl][47]
-   [getModuleFullPath][48]
-   [initApiClientClass][49]
-   [initApiClient][50]
-   [MAP][51]
-   [MAP][52]
-   [MAP][53]
-   [STATUS_PROP][54]
-   [action-status][55]
-   [ACTION_STATUS_PROPS][56]
-   [UNI_ERROR_PROPS][57]
-   [USER_INFO_PROPS][58]
-   [CONSTRAINTS_PROP_TYPE][59]
-   [FIELD_PROP_TYPE][60]
-   [META_PROP][61]
-   [getMeta][62]
-   [filterAndSortDb][63]
-   [USER][64]
-   [FROM_BOOM][65]
-   [FROM_BOOM_RESPONSE][66]
-   [FROM_BOOM_ERROR][67]
-   [clientErrorMessage][68]
-   [uniMessage][69]
-   [parseFromBoom][70]
-   [parseFromBoomResponse][71]
-   [parseFromBoomError][72]
-   [DEFAULT_VALUES][73]
-   [user-info][74]
-   [PATH_INDEX][75]
-   [createJsonPatchOperation][76]
-   [createCrudApi][77]
-   [loadRecords][78]
-   [apiCreateRecord][79]
-   [BaseApiClientClass][80]
    -   [getUserInfo][81]
    -   [ajaxGet][82]
    -   [ajaxPost][83]
    -   [proceedRequest][84]
-   [valueFromRange][85]
-   [removeFirstBy][86]
-   [findInTree][87]
-   [findInTree][88]
-   [arrayToTree][89]
-   [aggregation][90]
-   [emitProcessing][91]
-   [createApiConfig][92]
-   [createApiConfig][93]
-   [TIMESTAMP][94]
-   [reduxSimpleFormDecorator][95]
-   [reduxTableDecorator][96]
-   [titledDecorator][97]
-   [updatePathIfChange][98]
-   [onPropsUpdate][99]
-   [onStatusPropUpdate][100]
-   [accumulateDiff][101]
-   [deep-diff][102]
-   [postFormToUrl][103]
-   [formatDate][104]
-   [formatStringInner][105]
-   [formatString][106]
-   [formatStringWithoutAutoSpaces][107]
-   [generateId][108]
-   [init][109]
-   [translateDefault][110]
-   [i18nContextProvider][111]
-   [ImageTools][112]
-   [apiClient][113]
-   [isEmpty][114]
-   [parseUrlParameters][115]
-   [formatUrlParameters][116]
-   [joinPath][117]
-   [joinPathSimple][118]
-   [joinUri][119]
-   [updateUrl][120]
-   [getModuleRoutePath][121]
-   [connect][122]
-   [connect][123]
-   [onChangeStatus][124]
-   [updateValues][125]
-   [replace][126]
-   [replace][127]
-   [getAttachmentsByFieldId][128]
-   [getAttachmentInfosByUuids][129]
-   [getAttachmentIsSummaryFetching][130]
-   [uploadFile][131]
-   [downloadFile][132]
-   [deleteFile][133]
-   [uploadFile][134]
-   [downloadFile][135]
-   [deleteFile][136]
-   [ServiceAttachments][137]
    -   [link][138]
-   [link][139]
-   [type][140]
-   [notNaturalButton][141]
-   [asyncIsLoading][142]
-   [bemDecorator][143]
-   [render][144]
-   [linkTo][145]
-   [type][146]
-   [image][147]
-   [content][148]
-   [mobile][149]
-   [onClick][150]
-   [isLink][151]
-   [parseValueToString][152]
-   [options][153]
-   [touched][154]
-   [children][155]
-   [accept][156]
-   [onAdd][157]
-   [openUploadDialogFn][158]
-   [onDescriptionChange][159]
-   [onDescriptionBlur][160]
-   [onClick][161]
-   [onRemove][162]
-   [selectedValue][163]
-   [records][164]
-   [isSaveFullRecord][165]
-   [onFieldChange][166]
-   [onChange][167]
-   [renderOption][168]
-   [onChangeCheck][169]
-   [CheckboxCore][170]
-   [update][171]
-   [selectedValue][172]
-   [records][173]
-   [isSaveFullRecord][174]
-   [fieldLabel][175]
-   [fieldId][176]
-   [isValueOnlyIntoRecords][177]
-   [onFieldChange][178]
-   [onChange][179]
-   [onSelect][180]
-   [allowCreateNew][181]
-   [parseNewItem][182]
-   [onCreateNew][183]
-   [renderOption][184]
-   [isHideSelected][185]
-   [renderInputText][186]
-   [useUnique][187]
-   [onRemoveSelected][188]
-   [useSearch][189]
-   [onSearch][190]
-   [searchOnceOnMinCharacters][191]
-   [onLoadMore][192]
-   [SelectCore][193]
    -   [updateMultiple][194]
-   [update][195]
-   [formData][196]
-   [initFormData][197]
-   [onChangeField][198]
-   [onUpdateForm][199]
-   [validate][200]
-   [Layout][201]
-   [model-attachment-access][202]
-   [fileDescriptor][203]
-   [contentId][204]
-   [TYPES][205]
-   [SUB_TYPES][206]
-   [id][207]
-   [valueName][208]
-   [label][209]
-   [placeholder][210]
-   [textPlaceholder][211]
-   [title][212]
-   [textHint][213]
-   [textDescription][214]
-   [Layout][215]
-   [onChange][216]
-   [parseOutValue][217]
-   [instanceChange][218]
-   [onAdd][219]
-   [onRemove][220]
-   [constraints][221]
-   [validate][222]
-   [required][223]
-   [formDependentFields][224]
-   [formDependentData][225]
-   [getFormData][226]
-   [controlProps][227]
-   [controlRef][228]
-   [controlClass][229]
-   [render][230]
-   [renderGrouping][231]
-   [apiGetUserAvatarUrl][232]
-   [apiCheckVerifyToken][233]
-   [bind][234]
-   [bind][235]
-   [authViewDecorator][236]
-   [checkAccess][237]
-   [actionChangeUser][238]
-   [ServiceAuth][239]
    -   [authClientCredentials][240]
-   [ServiceAuthMock][241]
-   [remoteJwt][242]
-   [sendForgotPasswordEmail][243]
-   [resetPasswordByEmail][244]
-   [findUsers][245]
-   [findUser][246]
-   [getProtectedInfo][247]
-   [sendForgotPasswordEmail][248]
-   [resetPasswordByEmail][249]
-   [SUB_MODULE_FACTORY][250]
    -   [COMMON_SUB_MODULE_REGEXP][251]
    -   [loadSubModules][252]
    -   [createCommonSubModule][253]
    -   [createServerSubModule][254]
-   [DEFAULT_LOGGER_IDS][255]
-   [contextData][256]
-   [register][257]
-   [method][258]
-   [method][259]
-   [prepare-state][260]
-   [onPreResponse][261]
-   [createServices][262]
-   [createMockServices][263]
-   [WITHOUT_SERIALIZE_DATA][264]
-   [WITHOUT_LINKED_DATA][265]
-   [WITHOUT_CALCULATING_DATA][266]
-   [WITHOUT_DESERIALIZE_DATA][267]
-   [endpointServiceConfig][268]
-   [getCrudUrlsPrefix][269]
-   [findRecords][270]
-   [findRecordsWithPagination][271]
-   [removeRecord][272]
-   [bulkOperations][273]
-   [removeRecord][274]
-   [pluginServicesContext][275]
-   [registerService][276]
-   [pluginStrategies][277]
-   [ROUTE_CONFIG][278]
-   [ROLES][279]
-   [PERMISSIONS][280]
-   [ACCESS_OBJECT][281]
-   [PROXY][282]
-   [GUEST_MODE][283]
-   [AUTH_IF_EXISTS][284]
-   [AUTH][285]
-   [createProxyWrapperCallback][286]
-   [apiPluginFullFactory][287]
-   [apiPluginFactory][288]
-   [proxyRoute][289]
-   [proxyRoutePluginFactory][290]
-   [createEndpointServiceConfig][291]
-   [HOST][292]
-   [HOST][293]
-   [SERVICES_HOST][294]
-   [SERVICES_HOST][295]
-   [REQUEST_TIMEOUT][296]
-   [REQUEST_TIMEOUT][297]
-   [createEndpointFactoryFromEnv][298]
-   [createTempFile][299]
-   [cookie][300]
-   [downloadFile][301]
-   [dirnameNormalize][302]
-   [inModules][303]
-   [sendSimpleRequest][304]
-   [getEndpointServiceUrl][305]
-   [sendEndpointMethodRequest][306]
-   [factoryEndpointServiceMethodRequest][307]
-   [proceedRequest][308]

## Runners

Освновные расширяемые класс по управлению клиентом и сервером


## AbstractClientRunner

Абстракный класс для точечной настройки процесса запуска клиентской (браузерной) части приложения

**Parameters**

-   `runnerOptions`   (optional, default `{}`)
-   `htmlContainerId`  id дива, в котором будет разворачиваться реатовское приложение

### getReducers

для hot reload необходимо загружать через require

Returns **{}** 

### getModuleToRoutePrefixMap

Маппинг модуля на путь

### getApiClientClass

место для переопределения и инициализации инстанса BaseApiClient

## CoreClientRunner

**Extends AbstractClientRunner**

Расширение для установки core зависимостей по redux и импорт данных, пришедших с сервера при отрисовки

### loadCommonSubModulesContexts

нужно выделить отдельный метод с контекстами, для hot reload (чтобы там id их использовать)

Returns **\[any]** 

### getReducers

Возвращаем мапу редьюсеров

Returns **any** 

## AbstractServerRunner

Абстрактный класс для серверного ранера, икапсулирующий логику запуска node js сервера hapi

**Parameters**

-   `runnerOptions`   (optional, default `{}`)

## CoreServerRunner

**Extends AbstractServerRunner**

Расширение для установки core зависимостей

### getPreLoader

Returns **any** string || (reduxStore, i18n) => string

## Navigation

остальное


## createStatusesReducer

**Parameters**

-   `typesArray` **...any** один или несколько массивов, в каждом по три types. Первый - fetch, второй - success, третий - fail

## createTablesModule

**Parameters**

-   `tableModuleName`  
-   `ReduxTableClass`  
-   `api`  

## getBindActions

В зависимости есть ли нужный api:

-   apiFindRecords(newMeta, newFilters) -> actionLoadRecords(tableUuid, meta = undefined, filters = undefined, forceUpdate = false)
-   apiUpdateRecord -> actionEditRecord(tableUuid, recordId, patchOperations)
-   apiBulkChangeStatus -> actionBulkChangeStatus(tableUuid, meta, selectedIds, isSelectedAll, newStatus, oldStatus)

Остальные синхронные методы:

-   actionClearFilters(tableUuid)

-   actionChangeRecordsSelected(tableUuid, recordIds, selected)
-   actionChangeRecordsSelectedAll(tableUuid, isSelectedAll)
-   actionClearRecordSelection(tableUuid)

TYPES - типа который будут посылаться при событиях
localDataList - лист объектов или (globalState, newMeta, newFilters) => лист объектов

**Parameters**

-   `api`   (optional, default `{}`)
-   `TYPES`   (optional, default `this.getTypes(this.getPrefix())`)
-   `localDataList`   (optional, default `undefined`)

## apiFindRecords

апи который возвращает { meta, records }, либо массив, когда мультипейджинг не нужен

## apiLoadRecords

**Meta**

-   **deprecated**: use apiFindRecords


## apiEditRecord

**Meta**

-   **deprecated**: use apiUpdateRecord


## actionLoadRecords

**Parameters**

-   `tableUuid`  
-   `meta`  мержится к текушей
-   `filters`  полностью заменяется (чтобы можно было очистить)
-   `forceUpdate`  
-   `isReplaceLocation`  
-   `syncWithUrlParameters`  синхронизировать с url query (но делается scroll to top и не подходит для load more и нескольких таблиц на странице)
-   `searchFieldObjects`  
-   `isLoadMore`  

Returns **function (any, any)** 

## getLogLevel

Get log level string based on supplied params

**Parameters**

-   `level` **([string][309] \| [function][310] \| [object][311])** console[level]
-   `action` **[object][311]** selected action
-   `payload` **[array][312]** selected payload
-   `type` **[string][309]** log entry type

Returns **[string][309]** level

## createLogger

Creates logger with following options

**Parameters**

-   `options` **[object][311]** options for logger (optional, default `{}`)
    -   `options.level` **([string][309] \| [function][310] \| [object][311])** console[level]
    -   `options.duration` **[boolean][313]** print duration of each action?
    -   `options.timestamp` **[boolean][313]** print timestamp with each action?
    -   `options.colors` **[object][311]** custom colors
    -   `options.logger` **[object][311]** implementation of the `console` API
    -   `options.logErrors` **[boolean][313]** should errors in action execution be caught, logged, and re-thrown?
    -   `options.collapsed` **[boolean][313]** is group collapsed?
    -   `options.predicate` **[boolean][313]** condition which resolves logger behavior
    -   `options.stateTransformer` **[function][310]** transform state before print
    -   `options.actionTransformer` **[function][310]** transform action before print
    -   `options.errorTransformer` **[function][310]** transform error before print

Returns **[function][310]** logger middleware

## getBindActions

Сама мапа таблиц уже добавлена в рутовый редьюсер под именем tables.
Поэтому от этого файла достаточно только actions

Нужно в контейнере инициализровать таблицу через метод с уникальным TABLE_ID
actionModuleItemInit(TABLE_ID)
и можно пользоваться всеми экщенами
либо просто обернуть в декоратор - \\src\\common\\utils\\decorators\\react-class\\redux-table.jsx

Экшены
actionModuleItemInit(tableUuid, data = undefined)
actionModuleItemUpdate(tableUuid, data)
actionModuleItemRemove(tableUuid)

Если meta=null|false или filters=null|false - это сбрасывает значения
actionLoadRecords(tableUuid, meta = undefined, filters = undefined, forceUpdate = false)
actionEditRecord(tableUuid, recordId, patchOperations)
actionBulkChangeStatus(tableUuid, meta, selectedIds, isSelectedAll, newStatus, oldStatus)

actionClearFilters(tableUuid)

actionChangeRecordsSelected(tableUuid, recordIds, selected)
actionChangeRecordsSelectedAll(tableUuid, isSelectedAll)
actionClearRecordSelection(tableUuid)

## getTableInfo

**Parameters**

-   `globalState`  
-   `tableUuid`  

Returns **any** {
records: \[],
meta: {
search: null,
startPage: 0,
itemsPerPage: 10,
sortBy: null,
sortDesc: true,
total: null,
},
filters: {
// field: value
},
selected: \[],
isSelectedAll: false,actionLoadRecordsStatus: undefined,
actionBulkChangeStatusStatus: undefined,
actionEditRecordStatusMap: {}
}

## createFilteredReducer

Проверяет по action

**Parameters**

-   `reducerFunction`  
-   `reducerPredicate`  

Returns **function (any?, any?)** 

## createReducer

Удобное создание редьюсеров (без лишних switch-case условий)

**Parameters**

-   `initialState`  
-   `handlers`  key - action type, value - caseReducer
-   `fieldsHandlers`  
-   `defaultHandler`  

Returns **reducer** 

## createAllTypesMapCollectionReducer

**Parameters**

-   `TYPES`  
-   `reducer`  
-   `actionIdField`  
-   `createIfNotExist`  bool | (initialState, action) => {}

Returns **any** 

## mergeWithConcatArrays

!!! mutable

**Parameters**

-   `source`  
-   `newObj`  

Returns **any** 

## clientConfig

Располагается в common, так как используется для инициализации и на серверной части тоже для компонентов

## initConfig

Конфиги для клиента - это только лишь часть общих конфигов, которые поставляются на клиент вместе с initialState для стора при формировании html страницы

**Parameters**

-   `inputConfig`  

Returns **{}** 

## Info404

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## ThemeProvider

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## ThemeProvider

**Extends Component**

Компонент задающий тему для своих дочерних компонентов.
Важно! Может содержать в себе строго один дочерний компонент.

## UniError

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## ListItem

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## Notifications

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## Loading

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## Link

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## MediaQuery

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## ReadMore

**Meta**

-   **deprecated**: чтобы не подгружались все лишние компоненты, нужно не импортить index.js а писать полный путь


## theme

Тема компонента

## className

Дополнительный класс

## default

**Meta**

-   **deprecated**: user src/common/all-permissions.js


## default

**Meta**

-   **deprecated**: use feature-ui-form/common/subModule/model-attachment


## default

**Meta**

-   **deprecated**: use feature-ui-form/common/subModule/model-attachment


## 

**Meta**

-   **deprecated**: use src/routes-pathes.js


## decoratorContextModules

Декорирует компонент и добавляет в него:

-   getFullPath(location, moduleName)
-   getRoutePath(location, moduleName)
-   onGoTo(location, moduleName)
-   onReplaceLocation(location, moduleName)
-   match
-   location
-   moduleToRoutePrefixMap

location - LocationDescriptor (see \\src\\common\\models\\model-location.js)

## rootAppComponentProps

themeProviderProps: {},
modulesProviderProps: {
moduleToRoutePrefixMap: {}
}

## appUrl

осторожно!!! contextPath (basename) уже учитывается во всех роутингах, дополнительно в path его задавать не нужно. Поэтому пользуйтесь аккуратно
учитывает contextPath (basepath) приложения

**Parameters**

-   `pathname`  
-   `otherPaths` **...any** 

## getModuleFullPath

Полный путь до ресурса с учетом префикса различных модулей и contextPath

**Parameters**

-   `relativeLocation`  LocationDescription - @see model-location.js
-   `moduleName`  
-   `modulesPrefixes`  мапа: moduleName => prefix
-   `queryParams`  

Returns **any** 

## initApiClientClass

берется из AbstractClientRunner getApiClientClass

**Parameters**

-   `NewApiClientClass`  

Returns **[BaseApiClientClass][314]** 

## initApiClient

Проставляется в AbstractClientRunner

**Parameters**

-   `newApiClient`  

Returns **any** 

## MAP

**Meta**

-   **deprecated**: use model-action-status


## MAP

**Meta**

-   **deprecated**: use UNI_ERROR_PROP_TYPE_MAP


## MAP

**Meta**

-   **deprecated**: use model-user-info


## STATUS_PROP

**Meta**

-   **deprecated**: use model-action-status


## action-status

**Meta**

-   **deprecated**: use model-action-status


## ACTION_STATUS_PROPS

**Meta**

-   **deprecated**: use ACTION_STATUS_PROP_TYPE


## UNI_ERROR_PROPS

**Meta**

-   **deprecated**: use UNI_ERROR_PROP_TYPE


## USER_INFO_PROPS

**Meta**

-   **deprecated**: use USER_INFO_PROP_TYPE


## CONSTRAINTS_PROP_TYPE

**Meta**

-   **deprecated**: use src/modules/feature-ui-form/common/subModule/model-constraints


## FIELD_PROP_TYPE

**Meta**

-   **deprecated**: use src/modules/feature-ui-form/common/subModule/model-field


## 

**Meta**

-   **deprecated**: use src/modules/feature-ui-form/common/subModule/model-constraints.js


## 

**Meta**

-   **deprecated**: use src/modules/feature-ui-form/common/subModule/model-field.js


## META_PROP

Type: shim

**Meta**

-   **deprecated**: use META_PROP_TYPE


## getMeta

Формат ЗАПРОСА от фронта к бэку:

GET [http://dev.reagentum.ru:8098/api/projects?search=&sortBy=releaseDate&sortDesc=false&startPage=0&itemsPerPage=20&filters%5BprojectType%5D=START&filters%5Bsupervisor%5D=1&filters%5Bsupervisor%5D=2&filters%5BproductIds%5D=3&filters%5BproductIds%5D=4&groupBy=name][315]

Вот так это выглядит
search:
sortBy: releaseDate
sortDesc: false
startPage: 0
itemsPerPage: 20
filters[projectType]&#x3A; START
filters[supervisor]&#x3A; 1
filters[supervisor]&#x3A; 2
filters[productIds]&#x3A; 3
filters[productIds]&#x3A; 4
groupBy: name

Формат ОТВЕТА от back на front
{
"meta":{
"search":"",
"sortBy":"releaseDate",
"sortDesc":false,
"startPage":0,
"itemsPerPage":20,
"groupBy": "name",
"total":0
},
"records":[
{
...
},
...
],
}

В records и писать ваш иерархичный лист сущностей
В принципе можете не группировать ответ, главное чтобы группировка учитывалась при пагинации и сортировки, а мы на фронте уже сгруппируем

**Parameters**

-   `query`  
-   `defaultMeta`  

## filterAndSortDb

**Parameters**

-   `mockDb`  
-   `query`  search
    sortBy
    sortDesc
    itemsPerPage
    если false - отменяет разбивку на страницы - выдает все разультаты
    startPage
    itemsPerPage
-   `searchFieldObjects`  
-   `withPagination`  
-   `isGetAllNotMutable`  

Returns **{records, meta}** 

## USER

**Meta**

-   **deprecated**: use /src/modules/module-auth/common/subModule/model-user.js


## FROM_BOOM

[https://github.com/hapijs/boom][316]

## FROM_BOOM_RESPONSE

**Meta**

-   **deprecated**: старый формат


## FROM_BOOM_ERROR

**Meta**

-   **deprecated**: старый формат


## clientErrorMessage

**Meta**

-   **deprecated**: use clientErrorMessages


## uniMessage

**Meta**

-   **deprecated**: use uniMessages


## parseFromBoom

[https://github.com/hapijs/boom][316]

-   isBoom - if true, indicates this is a Boom object instance. Note that this boolean should only be used if the error is an instance of Error. If it is not certain, use Boom.isBoom() instead.
-   isServer - convenience bool indicating status code >= 500.
-   output - the formatted response. Can be directly manipulated after object construction to return a custom error response. Allowed root keys:
-   statusCode - the HTTP status code (typically 4xx or 5xx).
-   headers - an object containing any HTTP headers where each key is a header name and value is the header content.
-   payload - the formatted object used as the response payload (stringified). Can be directly manipulated but any changes will be lost if reformat() is called. Any content allowed and by default includes the following content:
-   statusCode - the HTTP status code, derived from error.output.statusCode.
-   error - the HTTP status message (e.g. 'Bad Request', 'Internal Server Error') derived from statusCode.
-   message - the error message derived from error.message.
    // - message - the error message.
    // - typeof - the constructor used to create the error (e.g. Boom.badRequest).
-   inherited Error properties (message, stack)

**Parameters**

-   `errorOrResponse`  
-   `uniErrorData`   (optional, default `{}`)

## parseFromBoomResponse

**Parameters**

-   `errorOrResponse`  
-   `uniErrorData`   (optional, default `{}`)

**Meta**

-   **deprecated**: старый формат


## parseFromBoomError

**Parameters**

-   `boomError`  
-   `uniErrorData`   (optional, default `{}`)

**Meta**

-   **deprecated**: старый формат


## DEFAULT_VALUES

**Meta**

-   **deprecated**: use model-user-info


## user-info

**Meta**

-   **deprecated**: use model-user-info


## PATH_INDEX

Type: [string][309]

**Meta**

-   **deprecated**: use PATH_MAIN_INDEX


## createJsonPatchOperation

по умолчанию не добавляет в конец, нужно обязательно указывать позицию
createJsonPatchOperation('/field2', 'newValue4', PATCH_OPERATIONS.ADD),

**Parameters**

-   `path`  
-   `value`  
-   `operationType`  
-   `itemIds`  

Returns **{path: [string][309], value: any, op: [string][309]}** 

## createCrudApi

**Parameters**

-   `API_PREFIX`  
-   `sendApiFn`  
-   `options`  

Returns **{API_PREFIX: any, API_CONFIGS: {loadRecords: ({method, path, payload} | any), createRecord: ({method, path, payload} | any), readRecord: ({method, path, payload} | any), updateRecord: ({method, path, payload} | any), patchRecord: ({method, path, payload} | any), deleteRecord: ({method, path, payload} | any)}, apiLoadRecords: (function (any?, any?): any), apiCreateRecord: (function (any?, any?): any), apiReadRecord: (function (any): any), apiUpdateRecord: (function (any, any?): any), apiPatchRecord: (function (any, any?): any), apiDeleteRecord: (function (any): any)}** 

## loadRecords

**Meta**

-   **deprecated**: use findRecords


## apiCreateRecord

**Parameters**

-   `data`  
-   `filesMap`  может быть File, массивом File, либо мапой &lt;имя поля>: File|[...File]

Returns **any** 

## BaseApiClientClass

Класс для отсылки запросов на сервер

**Parameters**

-   `apiClientOptions`   (optional, default `{}`)

### getUserInfo

**Parameters**

-   `args` **...any** 

Returns **any** 

**Meta**

-   **deprecated**: use getUser


### ajaxGet

Используется для загрузки НЕ АПИ методов при настроенном на один хост клиент апи (для апи использовать client.post \\ client.get)

**Parameters**

-   `absoluteUrl`  
-   `params`  
-   `options`  

Returns **any** 

### ajaxPost

Используется для загрузки НЕ АПИ методов при настроенном на один хост клиент апи

**Parameters**

-   `absoluteUrl`  
-   `data`  
-   `options`  

Returns **any** 

### proceedRequest

object of that fields

**Parameters**

-   `requestOptions`  
-   `url`  
-   `method`  
-   `urlRelative`  
-   `params`  
-   `data`  
-   `pathParams`  
-   `serializer`  
-   `deSerializer`  
-   `type`  
-   `contentType`  
-   `headers`  
-   `timeout`  
-   `mock`  boolean - use mock on demand,
    function(requestOptions, error, response){} - execute for result
    other - result
-   `mockFilter`  function(requestOptions, error, response) {}

Returns **[Promise][317]** 

## valueFromRange

Примеры
 valueFromRange( 0, [0, 5, 8, 15, 20], ['a', 'b', 'c', 'd'], 'Y') => 'a'
 valueFromRange(13, [0, 5, 8, 15, 20], ['a', 'b', 'c', 'd'], 'Y') => 'c'
 valueFromRange(20, [0, 5, 8, 15, 20], ['a', 'b', 'c', 'd'], 'Y') => 'd'
 valueFromRange(25, [0, 5, 8, 15, 20], ['a', 'b', 'c', 'd'], 'Y') => 'Y'

**Parameters**

-   `inputValue`  
-   `inputValueRanges`  
-   `outputValueRanges`  кол-во на одно меньше чем inputValueRanges
-   `outRangeValue`  

## removeFirstBy

**Parameters**

-   `array`  
-   `predicate`  либо значение \\ либо (arrayItem, index)

Returns **any** 

## findInTree

**Parameters**

-   `tree`  
-   `id`  
-   `config`   (optional, default `{}`)
-   `deep`   (optional, default `0`)
-   `path`   (optional, default `[]`)
-   `pathStr`   (optional, default `''`)

**Meta**

-   **deprecated**: user tree-utils.js::findInTree


## findInTree

Ищет первое вхождение в дереве

**Parameters**

-   `tree`  
-   `filter`  либо искомый id либо функция (treeItem, config)
-   `options`  {
    fieldChildren = 'children',
    fieldSearch = 'id', - если не задано поле filter как функция
    equalConstraint = EQUAL_CONSTRAINTS.EQUAL,
    }
-   `deep`   (optional, default `0`)
-   `path`   (optional, default `[]`)
-   `pathStr`   (optional, default `''`)

Returns **{result: any, isRoot: [boolean][313], pathStr: [string][309]}** 

## arrayToTree

**Parameters**

-   `array`  
-   `options`   (optional, default `{}`)
-   `parent`   (optional, default `null`)
-   `level`   (optional, default `0`)

**Meta**

-   **deprecated**: use tree-utils.js arrayToTree


## aggregation

[https://stackoverflow.com/a/45332959/344172][318]

**Parameters**

-   `BaseClass`  
-   `Mixins` **...any** 

Returns **base** class Person{
constructor(n){
this.name=n;
}
}
class Male{
constructor(s='male'){
this.sex=s;
}
}
class Child{
constructor(a=12){
this.age=a;
}
tellAge(){console.log(this.name+' is '+this.age+' years old.');}
}
class Boy extends aggregation(Person,Male,Child){}
var m = new Boy('Mike');
m.tellAge(); // Mike is 12 years old.

## emitProcessing

Метод который, который на время исполнения промиса, проставляет через setState значение переменной
processingStateVariable (по умолчанию, isProcessing)

Многие промисы - это обычные Promise.resolve и выполняются моментально
Поэтому, проверка необходимости этих действий идет через 10 секунд, и если proimse до сих пор в pending тогда запускается setState, чтобы лишний раз не нагружать перерендеринг реакта

**Parameters**

-   `handlerPromise`  
-   `componentWithSetState`  
-   `processingStateVariable`  
-   `immediately`  выполняет setState сразу же, без задержки в 15 милисекунд

Returns **any** 

## createApiConfig

Создание настроек для клиенской части и их роутинг через плагину на серверной

**Parameters**

-   `path`  
-   `method`  
-   `payload`  

Returns **({method, path, payload} | any)** 

## createApiConfig

Создание настроек для клиенской части и их роутинг через плагину на серверной

**Parameters**

-   `path`  
-   `method`  
-   `payload`  

Returns **({method, path, payload} | any)** 

## TIMESTAMP

**Meta**

-   **deprecated**: use TIMESTAMP_MILLISECONDS or UNIX_TIMESTAMP_SECONDS


## reduxSimpleFormDecorator

Декорирует компонент для отображения формы с данными. Упрощенная версия redux-form

Автоматически инициализирует в redux store под forms свои данные и при выходе их очищает

**Parameters**

-   `formId`  айди форма, или функция (props) => id
-   `defaultValues`  дефолтные значенияПлюс в пропертях можно передать initValues - дефолтные значения из значенийВозвращает компонент с доп пропертями:-   form - текущие данные формы
    -   formId - id формы
    -   getFormId - (props = this.props) => {}
    -   onUpdateForm - метод обновления данных

## reduxTableDecorator

Декорирует компонент для отображения таблицы с данными
Автоматически инициализирует в redux store под tables свои данные и при выходе их очищает

**Parameters**

-   `tableId`  айди таблицы, или функция (props) => id. !!! Если зависит от table meta или filters то не
      используйте actionLoadRecords со старым id (вместо этого используйте onUpdateTableFilters и onUpdateTableMeta)Options:
-   `$1` **[Object][311]**  (optional, default `{}`)
    -   `$1.loadOnMount`   (optional, default `true`)
    -   `$1.loadOnChange`   (optional, default `true`)
    -   `$1.clearOnUnmount`   (optional, default `true`)
    -   `$1.initMeta`   (optional, default `{}`)
    -   `$1.initFilters`   (optional, default `{}`)
    -   `$1.tableActions`  
    -   `$1.useLoading`   (optional, default `true`)
    -   `$1.urlFilterValueNormalizers`  
    -   `$1.syncWithUrlParameters`   (optional, default `false`)
    -   `$1.autoSaveState`   (optional, default `false`)
-   `loadOnMount`  запускать загрузку данных при маунте (componentWillMount)
-   `loadOnChange`  если изменилась мета или фильтры - запускает загрузку в componentWillReceiveProps
-   `clearOnUnmount`  очищать ли данные, когда компонент unmount (componentWillUnmount)
-   `initMeta`  (объект или функция от props) - начальная мета, которая будет перезаписана из урл параметров
-   `initFilters`  (объект или функция от props) - начальный фильтры
-   `tableActions`  actions чтобы можно было запускать тут load \\ они все передадуться в пропсы (можно в @connect
      не передавать
-   `useLoading`  использовать лоадинг для первоначальной загрузки
-   `urlFilterValueNormalizers`  мапа <filterName>: (urlValue)=>normalizedValue  - для правильного парсинга из
      урла значений
-   `syncWithUrlParameters`  синхронизировать с url query (но делается scroll to top и не подходит для load more и
      нескольких таблиц на странице)Возвращает компонент с доп пропертями:-   table - текущая данные таблицы
    -   tableId - id таблицы
    -   getTableId - (props = this.props) => {} id таблицы, удобно если он зависит от пропсов
    -   initMeta - начальная мета из options и урла
    -   initFilters - начальный фильтры из options и урла
    -   onUpdateTableFilters - (newFilters, replaceAll = false) => {} укороченная записть для actionLoadRecords. Фильтры
        тут не замекняеются, а мержатся
    -   onUpdateTableMeta - (newMeta, replaceAll = false) начальный фильтры из options и урла

## titledDecorator

Декорирует компонент, проставляя указанные данные в заголовок и в хедар документа

**Parameters**

-   `id`  
-   `title`  не более 50 символов (Если title длинный, поисковая система сама выберет, какие 70 символов показать
      пользователю в соответствии с введенным запросом. И этот выбор непредсказуем)(50–57 символов для Google;  65–70
      символов для Яндекс)
-   `metas`  html head meta tags for current page [description, keywords, author, robots, googlebot, google and
      e.t.]
                   (для CEO, используется в Server Side Rendering, отдачавая поисковым ботам инфу о конкретной странице)
                   \- description - не более 150 символов, в 60% случаев Google формирует сниппет из мета-тега
      description.
                   \- keywords (optional, ignored by Google)-   robots (optional, used by Google)
-   `otherInfo`  

Returns **function (any)** import { getCurrentPage } from '../../../app-redux/selectors';

## updatePathIfChange

**Parameters**

-   `path`  
-   `deepEqual`  
-   `singleRun`  
-   `handler`  
-   `context`  
-   `newProps`  
-   `oldProps`  
-   `isInit`  

Returns **any** возвращает true - если нужно прервать последующие обработчики, либо false если продолжать

## onPropsUpdate

Таргет метод для обновления данных, если меняются пропсы наденные по пути propertyPath
Срабатывает как при инициализации (componentWillMount), так и в будущем при componentWillReceiveProps

Большая проблема была в том, что зависимость от redux данных проявляется как при старте приложения так и при обновлении пропсов.
Но в реакте сделано так что componentWillReceiveProps не дергается при инициализации, поэтому постоянно приходилось писать 2 метода для одних и техже частей пропсов
Поэтому создал декоратор, тарнет метод которого автоматически срабатывает и при componentWillMount и при componentWillReceiveProps

**Parameters**

-   `propertyPath`  -   если пусто - то target метод срабатывает если props компонента
    -   если function - функция вызывается дважды, один раз для newProps второй раз для oldProps - на вход который подаются пропсы, вернуть должна часть props по которой будет deep equals
    -   если string - путь в props для объектов которые будут сравниваться
    -   если string array - если больше 1 то singleRun по умолчанию true
-   `$1` **[Object][311]**  (optional, default `{}`)
    -   `$1.deepEqual`   (optional, default `true`)
    -   `$1.singleRun`   (optional, default `true`)
    -   `$1.oldPropsNotNull`   (optional, default `true`)
    -   `$1.afterCustomFilter`  
-   `deepEqual`  (default true)-   true - глубокое сравнение
    -   false - мутабельные (массивы, объекты) - по ссылкам, инмутабельные (стринги, числа) - по контенту
-   `singleRun`  (по умолчанию true если propertyPath - это массив и больше 1 элемента)-   true - выполнять вызов не для каждого отдельно, а один раз для всех, при этом newObj \\ oldObj меняются на массив, соотвественно порядку в path
        (часто возникающая ситуация при инициализации когда все пасы считаются новыми и происходит дублирование вызовов)
-   `oldPropsNotNull`  
-   `afterCustomFilter`  

Returns **function (newProps, {newProps, oldProps, newObj, oldObj, path, isInit})** newObj \\ oldObj \\ path - меняются на массив, если singleRun - true-   если вернуть true, то все последующие методы не будут запущены.
    Обычно true возвращается тогда, когда идет явно изменение state и нужно чтобы react-redux прошел новый цикл и подставил в последующие методы уже обновленную информациюПример,
export default class AccountAndSite extends Component {
static propTypes = {
accountId: PropTypes.number,
...
}
...

## onStatusPropUpdate

Метод для работы со статусами - см \\src\\stub\\app-redux\\helpers\\create-status-reducer.js

**Parameters**

-   `statusPropPath`  

Returns **[function][310]** 

## accumulateDiff

Arguments
1) lhs - the left-hand operand; the origin object.
2) rhs - the right-hand operand; the object being compared structurally with the origin object.
3) options -
a) object - A configuration object that can have the following properties:
prefilter: (path, key) => bool - function that determines whether difference analysis should continue down the object graph. This function can also replace the options object in the parameters for backward compatibility.
normalize: (path, key, lhs, rhs) => [lhs, rhs] - function that pre-processes every leaf of the tree.
b) function - prefilter
4) acc - an optional accumulator/array (requirement is that it have a push function). Each difference is pushed to the specified accumulator.

Returns either an array of change

**Parameters**

-   `lhs`  
-   `rhs`  
-   `prefilter`  
-   `accum`  

## deep-diff

Arguments
1) lhs - the left-hand operand; the origin object.
2) rhs - the right-hand operand; the object being compared structurally with the origin object.
3) options -
a) object - A configuration object that can have the following properties:
prefilter: (path, key) => bool - function that determines whether difference analysis should continue down the object graph. This function can also replace the options object in the parameters for backward compatibility.
normalize: (path, key, lhs, rhs) => [lhs, rhs] - function that pre-processes every leaf of the tree.
showEditLinks: bool - add not equal link result
b) function - prefilter
4) acc - an optional accumulator/array (requirement is that it have a push function). Each difference is pushed to the specified accumulator.

Returns either an array of change

## postFormToUrl

**Parameters**

-   `url`  
-   `data`  
-   `encoding`  
-   `newWindow`  при банк эквейринге (оплате через банк) нужно открывать

## formatDate

Переводит дату из формата '2016-01-26' в формат '26 января 2016' или 26.1.2016.

**Parameters**

-   `date` **[String][309]** Строка даты в формате `YYYY-MM-DD`
-   `options` **[Object][311]?** Список опций
    -   `options.fullMonth` **[Boolean][313]** Если `true`, то название месяца, иначе номер (optional, default `true`)
    -   `options.cutCurrentYear` **[Boolean][313]** Если `true`, то дата без указания года (optional, default `true`)

Returns **[String][309]** Cтрока даты в формате `DD month YYYY или DD.MM.YYYY`

## formatStringInner

**Parameters**

-   `addNextNonWordCharacters`  
-   `str`  
-   `args` **...any** либо один параметр - мапа с параметрами ключ:значение-   либо остальные стринги \\ намбер - последовательно добавляются
    -   последний параметр может быть функция реплейсмент (path, значение из мапы если есть, type, mask, nextNonWordCharacters, position, allString)

Returns **any** 

## formatString

**Parameters**

-   `str`  
-   `args` **...any** либо один параметр - мапа с параметрами ключ:значение-   либо остальные стринги \\ намбер - последовательно добавляются
    -   последний параметр может быть функция реплейсмент (path, значение из мапы если есть, type, mask, nextNonWordCharacters, position, allString)
        важно использовать nonWordSeparator (пустое место до следующего элемента), ибо по умолчанию для функции оно не подставляется. Это нужно чтобы иметь возможность менять его в функции

Returns **any** 

## formatStringWithoutAutoSpaces

автоматически не добавляет nextNonWordCharacters

**Parameters**

-   `str`  
-   `args` **...any** либо один параметр - мапа с параметрами ключ:значение-   либо остальные стринги \\ намбер - последовательно добавляются
    -   последний параметр может быть функция реплейсмент (path, значение из мапы если есть, type, mask, nextNonWordCharacters, position, allString)
        важно использовать nextNonWordCharacters (пустое место до следующего элемента), ибо по умолчанию для функции оно не подставляется. Это нужно чтобы иметь возможность менять его в функции

Returns **any** 

## generateId

Returns **[string][309]** 

**Meta**

-   **deprecated**: use common/utils/common.js::generateId


## init

Метод инициализации настроек
Используется отдельно на клиенте и отдельно на сервере

**Parameters**

-   `newI18nInstance`  

## translateDefault

Translate - see \\static\\i18n\\ru\\core.js

**Parameters**

-   `key`  
-   `mapParams`  ( defaultValue props include )
-   `namespace`  
-   `defaultValue`  

**Examples**

```javascript
:
{
"key": "The current date is {{date, MM/DD/YYYY}}", // mommentjs для форматирования
"key2": "{{text, uppercase}} just uppercased"
}
```

```javascript
: как передать html в пропсу:
key:
submitSuccessMessage: 'На вашу почту {{email}} отослано сообщение с ссылкой для смены пароля',

textSuccess={
<div
dangerouslySetInnerHTML={{
__html: i18n(
'core:pages.ForgotPage.submitSuccessMessage',
{
email: `<b className="${this.bem('email-text')}">${email}</b>`,
// interpolation: {escapeValue: false},
},
),
}}
/>
}
```

Returns **any** 

## i18nContextProvider

чтобы каждый раз не писать префиксы для конкретного компонента

Пример:
import {i18nContextProvider}
const i18n = i18nContextProvider('components.MyComponent');
console.log(i18n('core:keyForMyComponent')); //components.MyComponent.keyForMyComponent

**Parameters**

-   `context`  

Returns **[Function][310]** 

## ImageTools

from [https://gist.github.com/dcollien/312bce1270a5f511bf4a][319]

ImageTools.resize(this.files[0], {
width: 320, // maximum width
height: 240 // maximum height
}, function(blob, didItResize) {
// didItResize will be true if it managed to resize it, otherwise false (and will return the original file as 'blob')
document.getElementById('preview').src = window.URL.createObjectURL(blob);
// you can also now upload this blob using an XHR.
});

## apiClient

**Meta**

-   **deprecated**: используйте helpers/get-api-client.js


## isEmpty

**Parameters**

-   `value`  
-   `objectChecker`   (optional, default `null`)

**Meta**

-   **deprecated**: use common.js::isEmpty
    // todo @ANKU @LOW - удалить когда удалим методы дерева из common.js (чтобы взаимных ссылок не было) и оттуда будем пользоваться


## parseUrlParameters

**Parameters**

-   `url`  либо объект location, либо мапа параметров, либо стринга
-   `defaultValues`  
-   `customNormalizersMap`  мапа <filterName>: (urlValue)=>normalizedValue  - для правильного парсинга из урла
      значений

Returns **{}** 

## formatUrlParameters

// todo @ANKU @LOW - не работают с "bracket" (когда multiple test\[]=value1&test\[]=value2)

**Parameters**

-   `params`  
-   `url`  если '' пустая строка - то это сигнал вернуть c символом начала query параметров (знаком вопроса):
      ?test=testValue
-   `hash`  

Returns **[string][309]** 

## joinPath

Конкатинация кусков path (в переди всегда проставляется '/')

**Parameters**

-   `paths` **...any** пути, который нужно объединить
    Последним параметром может быть мапа queryParams которая преобразуется в строку

Returns **any** 

## joinPathSimple

в отличии от joinPath не добавляет в начало / и не парсит параметры, просто конкатинирует части path

**Parameters**

-   `paths` **...any** 

Returns **[string][309]** 

## joinUri

**Parameters**

-   `paths` **...any** 

Returns **any** 

**Meta**

-   **deprecated**: renaming - use joinPath


## updateUrl

**Parameters**

-   `url`  
-   `newQueryParams`  
-   `merge`  по умолчанию реплейс массивов и объектов

Returns **[string][309]** 

## getModuleRoutePath

Путь до ресурса с учетом префикса различных модулей для роутинг (без учета contextPath)

**Parameters**

-   `relativeLocation`  LocationDescription - @see model-location.js
-   `moduleName`  
-   `modulesPrefixes`  мапа: moduleName => prefix
-   `queryParams`   (optional, default `undefined`)

Returns **any** 

## connect

класс который поддерживает мгновенную загрузку аттачментов и хранение инфы об этом в редуксе

## connect

По ключу userId обновляет все, то если если пользователь сменится - все обновится

## onChangeStatus

(isSummaryFetching) => {} - если один из атачей всего контрола имеет процесс

## updateValues

Наполняем результаты из рудекса (сколько загружено)

Returns **any** 

## replace

**Meta**

-   **deprecated**: InstanceAttachment - use InstantlyAttachment


## replace

**Meta**

-   **deprecated**: TextArea - use Input with type = 'textarea'


## getAttachmentsByFieldId

**Parameters**

-   `globalState`  
-   `fieldId`  undefined - то найдет все у которых еще id нет

Returns **{}** 

## getAttachmentInfosByUuids

**Parameters**

-   `globalState`  
-   `uuids`  

Returns **{}** 

## getAttachmentIsSummaryFetching

**Parameters**

-   `globalState`  
-   `uuids`  

Returns **{}** 

## uploadFile

**Parameters**

-   `filename`  
-   `contentType`  
-   `readStream`  

Returns **[Promise][317]** attachmentContentId

## downloadFile

**Parameters**

-   `contentId`  

Returns **any** stream

## deleteFile

**Parameters**

-   `contentId`  

Returns **[Promise][317]** 

## uploadFile

**Parameters**

-   `filename`  
-   `contentType`  
-   `readStream`  

Returns **[Promise][317]** attachmentContentId

## downloadFile

**Parameters**

-   `attachmentContentId`  

Returns **any** stream

## deleteFile

**Parameters**

-   `attachmentContentId`  

Returns **[Promise][317]** 

## ServiceAttachments

**Extends CoreService**

Обычно аттачи хранят в виде двух сущностей информации об аттаче (Attachment) и его контент (AttachmentContent) причем бывают на разных серверах

Но, по умолчанию, мы будем считать, что аттачи хранятся в базе и Attachment = AttachmentContent, весь процесс управляется через ServiceAttachmentContents
поэтому тут ничего не нунжно делать

Если необходимо разбить сущности, то этот класс нужно переопределить

### link

если какой-то объект использует этот аттач то link проставляется этому объекту
удобно чтобы удалять темповые не используемые фотография

**Parameters**

-   `id`  
-   `linkByObjectId`  
-   `objectModel`  

Returns **[Promise][317]** 

## link

если какой-то объект использует этот аттач то link проставляется этому объекту
удобно чтобы удалять темповые не используемые фотография

**Parameters**

-   `id`  
-   `linkByObjectId`  
-   `objectModel`  

Returns **[Promise][317]** 

## type

default "button" (not "submit")

## notNaturalButton

Эмуляция кнопки (к примеру, выглядит label оборачивает input type="file" и выглядит как кнопка)

## asyncIsLoading

(default: true) показывать лоадинг если onClick возвращает promise

## bemDecorator

Компонент для того, чтобы не писать bind функции c ключом
В основном используется, чтобы улучшить производительность - не биндить фунции внутри render каждый раз при перерисовки (а она оооочень частая)
См. [https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md#lists-of-items][320]

## render

(cellValue, column, record, rowIndex) => {}

## linkTo

Оборачивает значение колонки в линку
если функция - (record, column, rowIndex) => {}

## type

MENU_ITEM_TYPE = {
NORMAL: 'normal',
DELIMITER: 'delimiter',
HEADER: 'header',
}

## image

url аватарки
либо будет использована icon

## content

либо name будет рисоваться

## mobile

true - показывать только для мобильных
false - показывать только для не мобильных
undefined \\ null - показывать везде

## onClick

либо path будет использован для перехода

## isLink

по умолчанию, если есть path или onClick то считается линкой, но это можно исправить с помощью этого параметра

## parseValueToString

**Parameters**

-   `type`  
-   `value`  
-   `customMask`  
-   `props`  если LIST - то нужно records, componentProps: fieldLabel \\ fieldId - если они отличаются от стандартных

Returns **any** 

## options

**Meta**

-   **deprecated**: use controlProps.records


## touched

**Meta**

-   **deprecated**: в CoreField--touched есть


## children

Если функция - (openUploadDialogFn, props) => Node

## accept

[https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Limiting_accepted_file_types][321]
accept="image/png" or accept=".png" — Accepts PNG files.
accept="image/png, image/jpeg" or accept=".png, .jpg, .jpeg" — Accept PNG or JPEG files.
accept="image/_" — Accept any file with an image/_ MIME type. (Many mobile devices also let the user take a picture with the camera when this is used.)
accept=".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"

## onAdd

(uuidToFileMap, newAttachments, resultAttachments) => {} - всегда, даже если multiple=false, так как uuid важен для InstanceAttachments

## openUploadDialogFn

бывает необходимо сделать кастомный вид кнопки загрузки, поэтому ставят showAddButton: false и children: (openUploadDialogFn, props) => {} куда и передается эта функция, чтобы мануально открыть окно выбора файла

## onDescriptionChange

(attachment, newDescription, event) => {}

## onDescriptionBlur

(attachment, newDescription, event) => {}

## onClick

(attachment, event) => {}

## onRemove

(attachment) => {}

## selectedValue

**Meta**

-   **deprecated**: use value


## records

Самый важный текущий список данных к отображения для выбора (мы работаем с данными, а потом они переводятся в optionMeta а в SelectView они преобразуются уже в option node

## isSaveFullRecord

по-умолчанию сохраняется только id, но если эта true - сохранится весь объект

## onFieldChange

Внутренний метод от CoreField чтобы можно было задать кастомный onChange

(valuesOrNull, selectedRecords, context) => {}

-   context - { optionMeta: { record, recordId, isSelected, isDisabled } }
-   если multiple - это массивы, если нет - значения (если не выделено - null)
-   если isSaveFullRecord - то newValuesFinal - это рекорд, если нет то id

## onChange

(valuesOrNull, selectedRecords, context) => {}

-   context - { optionMeta: { record, recordId, isSelected, isDisabled } }
-   если multiple - это массивы, если нет - значения (если не выделено - null)
-   если isSaveFullRecord - то newValuesFinal - это рекорд, если нет то id

## renderOption

(record[fieldLabel], record, index, visibilityRecords) => React.node

## onChangeCheck

(recordId, isCheck) => {}

## CheckboxCore

**Extends PureComponent**

Нужно показывать только n первых элементов

## update

**Parameters**

-   `withBlur`  
-   `withChange`  
-   `event`  
-   `comp`  
-   `other` **...any** 

## selectedValue

**Meta**

-   **deprecated**: use value


## records

Самый важный текущий список данных к отображения для выбора (мы работаем с данными, а потом они переводятся в optionMeta а в SelectView они преобразуются уже в option node
Может быть массивом стрингов, либо массивом сущностей createSimpleSelectRecord ({ id, label })

## isSaveFullRecord

по-умолчанию сохраняется только id, но если эта true - сохранится весь объект

## fieldLabel

'name' - or use createSimpleSelectRecord

## fieldId

'id'

## isValueOnlyIntoRecords

false - значения могут быть только в рамках records. Если они выходят за рамки, происходит событие onChange и чистятся недопустимые

## onFieldChange

Внутренний метод от CoreField чтобы можно было задать кастомный onChange

(values, selectedRecords, context) => {}

-   context - { optionMeta: { record, recordId, isSelected, isDisabled } }
-   если multiple - это массивы, если нет - значения
-   если isSaveFullRecord - то newValuesFinal - это рекорд, если нет то id

## onChange

(values, selectedRecords, context) => {}

-   context - { optionMeta: { record, recordId, isSelected, isDisabled } }
-   если multiple - это массивы, если нет - значения
-   если isSaveFullRecord - то newValuesFinal - это рекорд, если нет то id

## onSelect

(newSelectedValue, newRecordsFinal) => {}

-   если multiple - это массивы, если нет - значения
-   если isSaveFullRecord - то newSelectedValue - это рекорд, если нет то id

## allowCreateNew

Добавление новых сущностей

## parseNewItem

(label, id, index) => new record

## onCreateNew

(record, index) => {}

## renderOption

(record[fieldLabel], record, optionMeta, visibilityRecords) => React.node

## isHideSelected

Если мы что-то выбрали, они убирается из доступного списко

## renderInputText

(selectedRecords, props) => PropTypes.node

## useUnique

только уникальные значения могут быть выбраны

## onRemoveSelected

(deletedValue, newRecordsFinal, removedItemIndex) => {}

-   если multiple - это массивы, если нет - значения
-   если isSaveFullRecord - то deletedValue - это рекорд, если нет то id

## useSearch

использовать поиск для выбора

## onSearch

(searchTerm) => {}

-   если асинхронно нужно

## searchOnceOnMinCharacters

если включаем - то игнорируется maxVisible
и ищет один раз а остальные уточняющие буквы фильтруют текущее значение и так будет пока не дойдет до минимального кол-ва символов и снова ищет

-   если searchMinCharacters = 0 - то один раз при маунте будет
-   если searchMinCharacters > 0 - будет дергаться onSearch каждый раз при пересечении этой границы

## onLoadMore

(searchTerm, alreadyShownLength) => {}

## SelectCore

**Extends PureComponent**

Нужно показывать только n первых элементов

**Parameters**

-   `args` **...any** 

### updateMultiple

**Parameters**

-   `currentItemIds`  может быть как id так и просто optionMeta (если это createNew)
-   `isRemove`  
-   `removedItemIndexes`  

Returns **any** 

## update

**Parameters**

-   `withBlur`  
-   `withChange`  
-   `event`  
-   `comp`  

## formData

Для передачи в onSubmit

## initFormData

Начальные значения (которые могут потом меняться), но весь основной стейт находится внутри формы.
Это подходит для форм с фильтрами, где есть кнопочка "Применить". Загружаем из урла начальные значения, потом внутри формы выбираем значения полей, нажимаем "применить" и обновляется таблица и initFormData (а вместе с ней и state этой формы)

## onChangeField

(newFormPartValue) => {}
приходит только часть и нужно делать merge в обработчике
{
  address: {
    city: 'Moscow'
  }
}

## onUpdateForm

(newFullFormData) => {}
Идеально подходит onUpdateForm из redux-simple-form декоратор для редукс

## validate

(fieldErrors, formData, props) => result
Где fieldErrors: [...string|{field, fieldLabel, errors}]

Где result: string|boolean|[...string|{field, fieldLabel, errors}]

-   если false: ошибка с текстом textDefaultFormErrorText
-   если true | null | undefined: не будет ошибок (не смотря на fieldErrors)
-   если массив: выведется массив ошибок

## Layout

default - FormLayout
props:
id
inModal

fields
actions
postActions
actionStatus

## model-attachment-access

accessPublic - все у кого есть ссылка
accessAuth - только авторизованные пользователи
accessOwnerOnly - только тот, кто создал (ну и админ ;))
[<other string>] - пермишен специальный

## fileDescriptor

FILE: {
lastModified: 1463127849264,
lastModifiedDate: Fri May 13 2016 11:24:09 GMT+0300 (RTZ 2 (зима)) {},
name: "test name.jpg",
preview: "blob:[http://localhost:8080/3b5f332a-45a7-49a8-9a1e-5b9225bd831e"][322],
size: 57613,
type: "image/jpeg",
webkitRelativePath: "",
}

## contentId

id контента, по которому можно получить содержимое файла

## TYPES

Type: {STRING: [string][309], TEXT: [string][309], DATE: [string][309], DATETIME: [string][309], NUMERIC: [string][309], DECIMAL: [string][309], BOOLEAN: [string][309], REFERENCE: [string][309], LIST: [string][309], BINARY: [string][309], CUSTOM: [string][309]}

**Meta**

-   **deprecated**: use FIELD_TYPES


## SUB_TYPES

Type: {LOGIN: [string][309], LOGIN_EMAIL: [string][309], PASSWORD: [string][309], EMAIL: [string][309], PHONE: [string][309]}

**Meta**

-   **deprecated**: FIELD_SUB_TYPES


## id

по умолчанию &lt;form_id>_<name>

## valueName

Значение которое будет отображаться

## label

в локализованных файлах могут автоматически подсасываться значения, к приеру
pages: {
SignupPage: {
title: 'Sign up',
fields: {
username: {
label: 'Login',
placeholder: 'Enter login',
title: 'User login',
},
password: {
label: 'Password',
placeholder: 'Enter password',
title: 'User password',
hint: 'Password should be very strong',
description: 'Digits and latin symbols only',
},
},
...
}
}

из локализации это '&lt;field_name>.label'

## placeholder

из локализации это '&lt;field_name>.placeholder'

## textPlaceholder

**Meta**

-   **deprecated**: use placeholder


## title

то, что появляется над контролом при наведении средствами html
из локализации это '&lt;field_name>.title'

## textHint

специальная иконка справа при наведении показывается дополнительная информация
из локализации это '&lt;field_name>.hint'

## textDescription

то, что показывает под полем
из локализации это '&lt;field_name>.description'

## Layout

className

label
textDescription
errors

required
touched

## onChange

(fieldName, parseOutValue, multiple, context, node) => {}

## parseOutValue

(value, fieldProps, index) => parsedValue

## instanceChange

обычно для больших форм, чтобы сэкономить ресурсы значение применяется после потери фокуса или Enter
Это сделано и для input

Но бывают случаи когда нужно реально по символьно обновлять (когда данных мало и нужно явно показать что кнопка больше не дисеблится (к примеру, при форме логине)
Значеие true - как раз и включает нотификацию по мере ввода

## onAdd

(fieldName, index, null, context) => {}

## onRemove

(fieldName, index, itemValue, context) => {}

## constraints

values
maxLength
minLength
multipleMaxSize
multipleMinSize
maxSize
minSize
minValue
maxValue,
maxBytes,
minBytes,
value
pattern
required,

## validate

Дополнительная кастомная валидация, срабатывает после всех автоматических проверок (html5 валидации, required, constraints)

То есть если поле required, то вам не нужно дополнительного его проверять на пустоту. Если только вы не хотите переделать дефолтное сообщение о пустоте.
В таком случаем нужно будет вернуть массив (это полностью заменит уже найденные ошибки defaultErrors)

(value, fieldProps, formDependentData, formData, defaultErrors) => result

где result:

-   если false - если нет других ошибок, то добавляет "Ошибку"
-   если true | null | undefined - никак не влияет, возвращает другие автоматически найденные ошибки
-   если массив - полность перезаписывает автоматические найденные ошибки

Пример:
{
label: 'Старый пароль',
name: 'oldPassword',
subType: FIELD_SUB_TYPES.PASSWORD,
required: true,
},
{
label: 'Новый пароль',
name: 'newPassword',
subType: FIELD_SUB_TYPES.PASSWORD,
required: true,
formDependentFields: ['oldPassword'],
validate: (value, props, formDependentData) => (
!value
|| value !== formDependentData.oldPassword
|| 'Новый пароль должен отличаться от старого'
),
},

Механизм:
const customValidateErrors = await executeVariable(
validate,
null,
value,
fieldProps,
formDependentData,
formDataFinal,
errors,
);
if (customValidateErrors === false) {
if (errors.length === 0) {
// если нет никаких ошибок - добавляется
// если есть - не проставляем, пока другие не уберутся
errors.push('Ошибка');
}
} else if (customValidateErrors === true || customValidateErrors === null) {
// возвращаем errors, какие есть
} else if (typeof customValidateErrors === 'string') {
// добавляем к текущим
errors.push(customValidateErrors);
} else if (Array.isArray(customValidateErrors)) {
// польностью заменяем массив
errors = customValidateErrors;
}

## required

дублирует поле constraints.required для удобства

## formDependentFields

Список других полей на форме от которых зависит текущее поле
Если есть - то будет подаваться formData в виде объекта и обновлять

## formDependentData

значение зависимых полей

## getFormData

Метод с формы, чтобы получить остальные контекстные формы

-   функция - чтобы не перезагружать компонент, при смене других значений

## controlProps

для листов нужно объявить:
{
   records - вместо options мы используем данные, потом они преобразуются в optionMeta и передаются в SelectView, а он уже отображет из них option node
   fieldId
   fieldLabel
}

## controlRef

ссылка на DOM
(field, dom) => {}

## controlClass

Класс - замена стандартному для контрола

## render

Замена стандартной отрисовки
(controlPropsFinal, resultNode, fieldProps) => node

## renderGrouping

(groupingField, index, innerFieldComponents, innerFieldProps) => {}

## apiGetUserAvatarUrl

синхронный метод, дает только урл, по которому вернется картинка

**Parameters**

-   `userIdentify`  
-   `key`  
-   `userId`  

## apiCheckVerifyToken

**Parameters**

-   `verifyToken`  
-   `userIdentify`  может не быть если это смка для регистрации

Returns **any** 

## bind

**Parameters**

-   `isChangeFromSigninToSignup`  true - переключаемся между Логин -> Ренистрация
      false - переключаемся между Ренистрация -> Логин
      null - закрываем окно (закончили или регистрацию или логин)

Returns **[Promise][317]&lt;void>** 

## bind

Определеяет какие куски приложения требуют авторизации
В enterprise обычно все что не noAuthRequireMatcher
Но других проектах помимо noAuthRequireMatcher (где указыавются просто файлы, статика, авторизация и подобное)
еще позволительный страницы без юзера (к примеру лендинг)

**Parameters**

-   `pathnameWithoutContextPath`  
-   `moduleToRoutePrefixMap`  

Returns **[boolean][313]** 

## authViewDecorator

Оборачивание компонентов для проверки авторизации, наличия ролей или permissions

Последний параметр, если это object - рассматривается как options. Все перед ним это rolesOr

**Parameters**

-   `args` **...any** 
-   `null`  (...rolesOr, options)
-   `options`  rolesOr: \[], - у пользователя должна быть хоть одна из ролей-   rolesAnd: \[] - должны быть все роли
    -   permissionsOr: \[] - должно быть хоть одно разрещение (также учитываются глобальные конфиги clientConfig.common.permissions)
    -   permissionsAnd: \[] - должны быть все разрещение
    -   redirectNotAuth: string || (getRoutePath, location) => string - если нет авторизации то по умолчанию бросается ошибка и показывается модалка авторизации, либо если задать эту переменную то переходит на другую страницу
    -   redirectNotAccess: PATH_ACCESS_DENIED || string || (getRoutePath, location) => string- если не хватает каких-либо
    -   afterAuthRedirect: null,

Returns **function (any)** Пример 1:

## checkAccess

По умолчанию используется оператор OR (Или) то есть пользователю достаточно иметь хотя бы одну соотвествующую роль \\ разрешение

**Parameters**

-   `user`  
-   `roles`  либо массив ролей, либо объект accessObject (rolesOr: \[], rolesAnd: \[], permissionsOr: \[], permissionsAnd: \[])
-   `permissions`  

Returns **any** boolean|Array - либо булеан, либо массив ошибок

## actionChangeUser

**Meta**

-   **deprecated**: use actionSignin


## ServiceAuth

**Extends CoreService**

Клиенсткая реализация протокола OAuth 2.0 Bearer
PROTOCOL - [https://tools.ietf.org/html/rfc6749#][323]

**Parameters**

-   `endpointServiceConfig`  

Returns **{authValidate, authLogin}** 

### authClientCredentials

clientCredentials { client_id, client_secret }

**Parameters**

-   `clientCredentials`   (optional, default `undefined`)
-   `force`   (optional, default `false`)

## ServiceAuthMock

**Extends ServiceAuth**

Клиенсткая реализация протокола OAuth 2.0 Bearer

**Parameters**

-   `endpointServiceConfig`  

Returns **{authValidate, authLogin}** 

## remoteJwt

token - это токен сотрудника банка

**Parameters**

-   `server`  
-   `pluginOptions`  

Returns **{authenticate: authenticate}** 

## sendForgotPasswordEmail

**Parameters**

-   `email`  
-   `resetPasswordPageUrl`  
-   `emailOptions`  

Returns **any** 

## resetPasswordByEmail

**Parameters**

-   `resetPasswordToken`  
-   `newPassword`  
-   `emailOptions`  

Returns **[Promise][317]&lt;any>** 

## findUsers

Query

email                 optional string
firstName             optional string
lastName              optional string
search                optional A String contained in username, first or last name, or email string
username              optional string

briefRepresentation   optional  boolean
first                 optional integer(int32)
max                   optional Maximum results size (defaults to 100) integer(int32)

**Parameters**

-   `query`  

Returns **[Promise][317]&lt;any>** 

## findUser

**Parameters**

-   `userIdentify`  userId | email | username
-   `silent`   (optional, default `false`)

Returns **any** project user

## getProtectedInfo

Информация которая загружается на клиент о пользователе (без системной инфы)

**Parameters**

-   `userIdentify`  

Returns **[Promise][317]&lt;\[`"userId"`, `"displayName"`, `"aliasId"`, `"description"`, `"username"`, `"firstName"`, `"lastName"`, `"middleName"`, `"email"`, `"phone"`, `"address"`]>** 

## sendForgotPasswordEmail

Протокол для @reagentum/auth-server@1.0.4

**Parameters**

-   `email`  
-   `resetPasswordPageUrl`  
-   `emailOptions`  

Returns **any** 

## resetPasswordByEmail

Протокол для @reagentum/auth-server@1.0.4

**Parameters**

-   `resetPasswordToken`  
-   `newPassword`  
-   `emailOptions`  

Returns **[Promise][317]&lt;any>** 

## SUB_MODULE_FACTORY

Упрощенный модуль выглядит так:
src/modules/module
common/
subModule/
api/
components/
containers/
models/
stores/
redux-reducers.js
redux-selectors.js
mobx-stores.js
index.js
get-components.js
routes.jsx
routes.paths.js
module-name.js
server/
subModule/
services/
mockServices/
plugins/
mockRoutes/
api-routes/
index.js
module-name.js
package.json

### COMMON_SUB_MODULE_REGEXP

ПРИМЕР
только для require.context нужно явно regexp задавать а не через переменную

### loadSubModules

**Parameters**

-   `webpackRequireContext`  require.context('./', true, SUB_MODULE_FACTORY.COMMON_SUB_MODULE_REGEXP);
-   `type`  

### createCommonSubModule

-   MODULE_NAME: null,
-   initComponents: (componentsBase) => componentsBase,
-   paths: {},

-   getRoutes: (moduleRoutePrefix) => null,
-   getApi: () => \[],
-   getRootReducers: () => ({}),
-   reduxSelectors: {},
-   reduxActions: (api) => ({}),

-   hotReloadFunc: (reloadUi, reloadStore, reloadAll) => {
    // module.hot.accept('./routes-products', reloadUi);
    },

**Parameters**

-   `options`  

Returns **any** options

### createServerSubModule

-   async initServerSubModule: (serverRunner) => {},
    событие происходящее один раз на сервере. Если что-то изменили в модуле - нужно весь сервер перезапустить
-   async afterStartServer: (serverRunner) => {},
    событие происходящее один раз на сервере. Если что-то изменили в модуле - нужно весь сервер перезапустить

-   getServerPlugins: (services, strategies, servicesContext) => \[],
-   getServerApi: (services, strategies, servicesContext) => \[],
-   getServerMocks: (services, strategies, servicesContext) => \[],
-   getServerServices: (endpointServices, servicesContext) => ({}),
-   getServerMockServices: (endpointServices, servicesContext) => ({}),
-   getServerStrategies: (servicesContext) => ({}),
-   getDBModels: () => \[],

**Parameters**

-   `options`  

Returns **{options: any}** 

## DEFAULT_LOGGER_IDS

Которые определены в конфигах

## contextData

любые контекстные данные при запуске приложения

## register

Усорвешенствованная библиотека hapi-i18next (репо версия устарела для i18next)

**Parameters**

-   `server`  
-   `options`  
-   `next`  

## method

Returns fresh i18next instance for each request, to prevent cache pollution

## method

This method is a facade for i18next's bundled 't' method. We wrap it so that we can
pass an extra language parameter for Hapi server.method caching (so you can generate keys based on languages
and avoid cache pollution)

## prepare-state

загрузка необходимых вначале общих данных из различных сервисов (в данном случае organizations и profiles

**Parameters**

-   `request`  
-   `server`  
-   `defaultState`  
-   `pluginOptions`  

Returns **{}** 

## onPreResponse

включение моков по урлу

**Parameters**

-   `mockOptions`  
-   `request`  
-   `reply`  

Returns **(void | any)** 

## createServices

Метод для создания сервисов

**Parameters**

-   `endpointServiceConfigs`  

## createMockServices

Метод для создания сервисов

## WITHOUT_SERIALIZE_DATA

Данные нужные без обработки

## WITHOUT_LINKED_DATA

Данные без связей (чтобы зациклинности не было)

## WITHOUT_CALCULATING_DATA

Данные без калькулируемых полей

## WITHOUT_DESERIALIZE_DATA

Без десериализации на сервер

## endpointServiceConfig

Создается в config/utils/create-config.js:

Если в serverConfig.server.endpointServices[serviceName] нету используется по умолчанию
serverConfig.server.endpointServices.middlewareApiService

protocol: string
host: string
port: number
endpoint: string
fullUrl: string
timeout: number

## getCrudUrlsPrefix

если его определить то все методы
findRecords
findRecordsWithPagination
createRecord
readRecord
updateRecord
deleteRecord
patchRecord

-   заработают автоматом

Returns **null** 

## findRecords

**Parameters**

-   `query`  
-   `searchFields`  
-   `options`  

## findRecordsWithPagination

**Parameters**

-   `query`  
-   `searchFields`  
-   `findOptions`  

## removeRecord

**Parameters**

-   `id`  
-   `options`  

Returns **[Promise][317]&lt;void>** 

**Meta**

-   **deprecated**: use deleteRecord


## bulkOperations

This function does not trigger any middleware, not save() nor update(). If you need to trigger save() middleware
for every document use create() instead.

**Parameters**

-   `operations`  : {[this.operation_type.create]: createArray,[this.operation_type.update]: updateArray,[this.operation_type.remove]: removeArray,}
-   `options`   (optional, default `null`)

Returns **any** BulkWriteOpResultObject-   insertedCount  number -- Number of documents inserted.
-   matchedCount   number -- Number of documents matched for update.
-   modifiedCount  number -- Number of documents modified.
-   deletedCount   number -- Number of documents deleted.
-   upsertedCount  number -- Number of documents upserted.
-   insertedIds    object -- Inserted document generated Id's, hash key is the index of the originating operation
-   upsertedIds    object -- Upserted document generated Id's, hash key is the index of the originating operation
-   result         object -- The command result object.

## removeRecord

**Parameters**

-   `id`  
-   `options`  

Returns **[Promise][317]&lt;void>** 

**Meta**

-   **deprecated**: use deleteRecord


## pluginServicesContext

Обогощает request "servicesContext" и "services" еще перед авторизацией

**Parameters**

-   `server`  
-   `options`  
-   `next`  

## registerService

**Parameters**

-   `serviceName`  
-   `getServiceFn`  функция (endpoint) => инстанса сервиса, который унаследован от CoreService (есть setRequest, setServicesContext)
-   `isMock`  

## pluginStrategies

Обогощает request "servicesContext" и "services" еще перед авторизацией

**Parameters**

-   `server`  
-   `options`  
-   `next`  

## ROUTE_CONFIG

hapi настройки для роутера - см ROUTE_CONFIG_OPTIONS

## ROLES

или

## PERMISSIONS

или

## ACCESS_OBJECT

Если не хватает ROLES и PERMISSIONS - можно воспользоваться объектом для тонкой настроки - src/modules/module-auth/common/subModule/helpers/access-object-utils.js

## PROXY

h2o2 options

## GUEST_MODE

поддержать гостевой режим (может пользователь быть, а может и не быть), но попытку авторизации нужно произвести
false,

## AUTH_IF_EXISTS

true - и если токен пользователя есть - запросит авторизацию, если нет - пропустит как если бы было routeConfig: { auth: false }

Это настройка понадобилась, так как если задать routeConfig: { auth: false } - то не запустится система авторизации в jwt-auth и user не проставится в request вообще

## AUTH

hapi настройка
true

если false - то не будет запускать системы авторизации, то есть jwt-auth не сработает и user в request не проставится

## createProxyWrapperCallback

**Parameters**

-   `handler`  (proxyPayload, requestData, apiRequest, newReply, proxyResponse, pluginOptions) => {}
-   `apiRequest`  
-   `pluginOptions`  

Returns **function (any?, any?, any?)** 

## apiPluginFullFactory

Подключена проверка пермишенов, логгинг, проксирование (и авторизация)

**Parameters**

-   `apiConfig`  
-   `apiPluginOptions`  
-   `handler`  Можно не использовать reply, если возвращаем не response, то идет вызов reply автоматически с
      результатом в качестве аргумента
-   `accessObject`  
-   `permissions`  
-   `roles`  
-   `checkPermissionStrategy`  
-   `routeConfig`  
-   `isLogging`  

Returns **any** function(apiRequestData, request, reply) {}

## apiPluginFactory

**Parameters**

-   `apiConfig`  
-   `handler`  (payload, apiRequest, reply, pluginOptions) => {}
-   `apiPluginOptions`  permissions-   checkPermissionStrategy
    -   routeConfig
    -   isLogging

## proxyRoute

**Parameters**

-   `path`  you can user wildcard (\*) or h2o2 format: \\path{otherPart}
-   `proxy`  string \\ mapUri function \\ h2o2 options (proxyOptions) - [https://github.com/hapijs/h2o2][324] (add support { apiPrefix: 'serviceApiPath' })
             server.route({ method: 'GET', path: '/handlerTemplate/{a}/{b}', handler: { proxy: { uri: '[http://localhost:][325]' + upstream.info.port + '/item/{a}/{b}' } } });
-   `routeOptions`  если только функция, значит это handler-   handler - (payload, requestData, apiRequest, reply, proxyResponse, pluginOptions) => {}
    -   permissions
    -   checkPermissionStrategy
    -   routeConfig
    -   isLogging

## proxyRoutePluginFactory

**Parameters**

-   `path`  
-   `proxy`  
-   `otherOptions`  

**Meta**

-   **deprecated**: use proxyRoute


## createEndpointServiceConfig

Это настройка для набора сервисов, который после подключения спец библиотек (Thrift или оберток над Rest)
позволяют дергать свое апи через методы с переменными
(вся логика выстраивания пути до rest сервисов, инкапсулирована внутри).
Это позволяет их легко переиспользовать, в том числе и в других проектах.

**Parameters**

-   `$0` **[Object][311]** 
    -   `$0.protocol`  
    -   `$0.host`  
    -   `$0.port`  
    -   `$0.endpoint`  
    -   `$0.useDefault`   (optional, default `true`)
    -   `$0.timeout`  
    -   `$0.fullUrl`  
    -   `$0.envPriority`  
    -   `$0.requestOptions`  
-   `protocol`  
-   `host`  
-   `port`  
-   `endpoint`  
-   `timeout`  

Returns **{protocol: [string][309], host: [string][309], port: [number][326], endpoint: [string][309], fullUrl: [string][309], timeout: any}** 

## HOST

Марафон при запуска автоматически добавляет адресс хоста в эту переменную

## HOST

Марафон при запуска автоматически добавляет адресс хоста в эту переменную

## SERVICES_HOST

Когда запускаем на localhost или нужно на стендах зашить

## SERVICES_HOST

Когда запускаем на localhost или нужно на стендах зашить

## REQUEST_TIMEOUT

Первый запуск мидловых сервисов бывает до 20 сек

## REQUEST_TIMEOUT

Первый запуск мидловых сервисов бывает до 20 сек

## createEndpointFactoryFromEnv

**Parameters**

-   `env`  

Returns **function (any, any?)** 

**Meta**

-   **deprecated**: This is deprecated.


## createTempFile

**Parameters**

-   `content`  
-   `fileName`  
-   `options`  [https://raszi.github.io/node-tmp/][327] options
    mode: the file mode to create with, it fallbacks to 0600 on file creation and 0700 on directory creation
    prefix: the optional prefix, fallbacks to tmp- if not provided
    postfix: the optional postfix, fallbacks to .tmp on file creation
    template: mkstemp like filename template, no default
    dir: the optional temporary directory, fallbacks to system default (guesses from environment)
    tries: how many times should the function try to get a unique filename before giving up, default 3
    keep: signals that the temporary file or directory should not be deleted on exit, default is false, means delete
    Please keep in mind that it is recommended in this case to call the provided cleanupCallback function manually.
    unsafeCleanup: recursively removes the created temporary directory, even when it's not empty. default is false

Returns **any** 

## cookie

**Parameters**

-   `request`  
-   `name`  
-   `value`  

Returns **any** 

**Meta**

-   **deprecated**: bug with set cookie value - use getCookie and setCookie instead


## downloadFile

**Parameters**

-   `reply`  
-   `serverPath`  либо путь, либо data: , либо stream
-   `fileName`  
-   `type`  

Returns **any** 

## dirnameNormalize

[https://github.com/webpack/webpack/issues/1599][328]
С любыми настройками webpack на сервере**dirname на unix выдает src... а **filename /index.js в любом варианте

**Parameters**

-   `dirname`  

Returns **[string][309]** 

## inModules

**Parameters**

-   `globRegexp`  [https://www.npmjs.com/package/glob#glob-primer][329]
-   `projectSrcPath`  

Returns **[Array][312]** 

## sendSimpleRequest

**Parameters**

-   `requestOptions`  [https://github.com/request/request#requestoptions-callback][330]!!! Есть ужасная бага при загрузке файлов - буффер по умолчанию переводится в строку
    [https://stackoverflow.com/questions/14855015/getting-binary-content-in-node-js-using-request][331]
    нужно установить в настройках:
    encoding: null,

Returns **[Promise][317]** 

## getEndpointServiceUrl

**Parameters**

-   `endpointServiceConfig`  
-   `serviceMethodPath`  
-   `data`  если потребуется возьмутся для pathParams
-   `additionalPathParams`  сначала из них возьмутся

Returns **any** 

## sendEndpointMethodRequest

1) Обычено чтобы указать тип необходимых данных через TypeScript, делают такую обертку (чтобы data была в параметрах):
export default function serviceMethodsFactory(endpointServiceConfig) {
function findTariffByInn(data: DataTypeScript, ...other) {
return sendEndpointMethodRequest(endpointServiceConfig,
'/all', 'get', data, ...other);
}

return {
findTariffByInn
};
}

2) либо можете просто использовать фабрику (он сам все данные пробросит)
findTariffByInn: factoryEndpointServiceMethodRequest(endpointServiceConfig, 'tariff', 'get')

**Parameters**

-   `endpointServiceConfig`  
-   `serviceMethodPath`  
-   `method`  
-   `data`  
-   `apiRequest`  
-   `requestOptions`  [https://www.npmjs.com/package/request][332]
-   `logger`  

Returns **any** 

## factoryEndpointServiceMethodRequest

Реализует запрос до

**Parameters**

-   `endpointServiceConfig`  
-   `serviceMethodPath`  
-   `method`  
-   `data`  
-   `requestOptions`  
-   `logger`  

Returns **[Promise][317]&lt;any>** 

## proceedRequest

**Parameters**

-   `requestOptions`  see [https://hapijs.com/api#serverinjectoptions-callback][333]
-   `server`  

Returns **any** Promise

[1]: #runners

[2]: #abstractclientrunner

[3]: #getreducers

[4]: #getmoduletorouteprefixmap

[5]: #getapiclientclass

[6]: #coreclientrunner

[7]: #loadcommonsubmodulescontexts

[8]: #getreducers-1

[9]: #abstractserverrunner

[10]: #coreserverrunner

[11]: #getpreloader

[12]: #navigation

[13]: #createstatusesreducer

[14]: #createtablesmodule

[15]: #getbindactions

[16]: #apifindrecords

[17]: #apiloadrecords

[18]: #apieditrecord

[19]: #actionloadrecords

[20]: #getloglevel

[21]: #createlogger

[22]: #getbindactions-1

[23]: #gettableinfo

[24]: #createfilteredreducer

[25]: #createreducer

[26]: #createalltypesmapcollectionreducer

[27]: #mergewithconcatarrays

[28]: #clientconfig

[29]: #initconfig

[30]: #info404

[31]: #themeprovider

[32]: #themeprovider-1

[33]: #unierror

[34]: #listitem

[35]: #notifications

[36]: #loading

[37]: #link

[38]: #mediaquery

[39]: #readmore

[40]: #theme

[41]: #classname

[42]: #default

[43]: #default-1

[44]: #default-2

[45]: #decoratorcontextmodules

[46]: #rootappcomponentprops

[47]: #appurl

[48]: #getmodulefullpath

[49]: #initapiclientclass

[50]: #initapiclient

[51]: #map

[52]: #map-1

[53]: #map-2

[54]: #status_prop

[55]: #action-status

[56]: #action_status_props

[57]: #uni_error_props

[58]: #user_info_props

[59]: #constraints_prop_type

[60]: #field_prop_type

[61]: #meta_prop

[62]: #getmeta

[63]: #filterandsortdb

[64]: #user

[65]: #from_boom

[66]: #from_boom_response

[67]: #from_boom_error

[68]: #clienterrormessage

[69]: #unimessage

[70]: #parsefromboom

[71]: #parsefromboomresponse

[72]: #parsefromboomerror

[73]: #default_values

[74]: #user-info

[75]: #path_index

[76]: #createjsonpatchoperation

[77]: #createcrudapi

[78]: #loadrecords

[79]: #apicreaterecord

[80]: #baseapiclientclass

[81]: #getuserinfo

[82]: #ajaxget

[83]: #ajaxpost

[84]: #proceedrequest

[85]: #valuefromrange

[86]: #removefirstby

[87]: #findintree

[88]: #findintree-1

[89]: #arraytotree

[90]: #aggregation

[91]: #emitprocessing

[92]: #createapiconfig

[93]: #createapiconfig-1

[94]: #timestamp

[95]: #reduxsimpleformdecorator

[96]: #reduxtabledecorator

[97]: #titleddecorator

[98]: #updatepathifchange

[99]: #onpropsupdate

[100]: #onstatuspropupdate

[101]: #accumulatediff

[102]: #deep-diff

[103]: #postformtourl

[104]: #formatdate

[105]: #formatstringinner

[106]: #formatstring

[107]: #formatstringwithoutautospaces

[108]: #generateid

[109]: #init

[110]: #translatedefault

[111]: #i18ncontextprovider

[112]: #imagetools

[113]: #apiclient

[114]: #isempty

[115]: #parseurlparameters

[116]: #formaturlparameters

[117]: #joinpath

[118]: #joinpathsimple

[119]: #joinuri

[120]: #updateurl

[121]: #getmoduleroutepath

[122]: #connect

[123]: #connect-1

[124]: #onchangestatus

[125]: #updatevalues

[126]: #replace

[127]: #replace-1

[128]: #getattachmentsbyfieldid

[129]: #getattachmentinfosbyuuids

[130]: #getattachmentissummaryfetching

[131]: #uploadfile

[132]: #downloadfile

[133]: #deletefile

[134]: #uploadfile-1

[135]: #downloadfile-1

[136]: #deletefile-1

[137]: #serviceattachments

[138]: #link-1

[139]: #link-2

[140]: #type

[141]: #notnaturalbutton

[142]: #asyncisloading

[143]: #bemdecorator

[144]: #render

[145]: #linkto

[146]: #type-1

[147]: #image

[148]: #content

[149]: #mobile

[150]: #onclick

[151]: #islink

[152]: #parsevaluetostring

[153]: #options

[154]: #touched

[155]: #children

[156]: #accept

[157]: #onadd

[158]: #openuploaddialogfn

[159]: #ondescriptionchange

[160]: #ondescriptionblur

[161]: #onclick-1

[162]: #onremove

[163]: #selectedvalue

[164]: #records

[165]: #issavefullrecord

[166]: #onfieldchange

[167]: #onchange

[168]: #renderoption

[169]: #onchangecheck

[170]: #checkboxcore

[171]: #update

[172]: #selectedvalue-1

[173]: #records-1

[174]: #issavefullrecord-1

[175]: #fieldlabel

[176]: #fieldid

[177]: #isvalueonlyintorecords

[178]: #onfieldchange-1

[179]: #onchange-1

[180]: #onselect

[181]: #allowcreatenew

[182]: #parsenewitem

[183]: #oncreatenew

[184]: #renderoption-1

[185]: #ishideselected

[186]: #renderinputtext

[187]: #useunique

[188]: #onremoveselected

[189]: #usesearch

[190]: #onsearch

[191]: #searchonceonmincharacters

[192]: #onloadmore

[193]: #selectcore

[194]: #updatemultiple

[195]: #update-1

[196]: #formdata

[197]: #initformdata

[198]: #onchangefield

[199]: #onupdateform

[200]: #validate

[201]: #layout

[202]: #model-attachment-access

[203]: #filedescriptor

[204]: #contentid

[205]: #types

[206]: #sub_types

[207]: #id

[208]: #valuename

[209]: #label

[210]: #placeholder

[211]: #textplaceholder

[212]: #title

[213]: #texthint

[214]: #textdescription

[215]: #layout-1

[216]: #onchange-2

[217]: #parseoutvalue

[218]: #instancechange

[219]: #onadd-1

[220]: #onremove-1

[221]: #constraints

[222]: #validate-1

[223]: #required

[224]: #formdependentfields

[225]: #formdependentdata

[226]: #getformdata

[227]: #controlprops

[228]: #controlref

[229]: #controlclass

[230]: #render-1

[231]: #rendergrouping

[232]: #apigetuseravatarurl

[233]: #apicheckverifytoken

[234]: #bind

[235]: #bind-1

[236]: #authviewdecorator

[237]: #checkaccess

[238]: #actionchangeuser

[239]: #serviceauth

[240]: #authclientcredentials

[241]: #serviceauthmock

[242]: #remotejwt

[243]: #sendforgotpasswordemail

[244]: #resetpasswordbyemail

[245]: #findusers

[246]: #finduser

[247]: #getprotectedinfo

[248]: #sendforgotpasswordemail-1

[249]: #resetpasswordbyemail-1

[250]: #sub_module_factory

[251]: #common_sub_module_regexp

[252]: #loadsubmodules

[253]: #createcommonsubmodule

[254]: #createserversubmodule

[255]: #default_logger_ids

[256]: #contextdata

[257]: #register

[258]: #method

[259]: #method-1

[260]: #prepare-state

[261]: #onpreresponse

[262]: #createservices

[263]: #createmockservices

[264]: #without_serialize_data

[265]: #without_linked_data

[266]: #without_calculating_data

[267]: #without_deserialize_data

[268]: #endpointserviceconfig

[269]: #getcrudurlsprefix

[270]: #findrecords

[271]: #findrecordswithpagination

[272]: #removerecord

[273]: #bulkoperations

[274]: #removerecord-1

[275]: #pluginservicescontext

[276]: #registerservice

[277]: #pluginstrategies

[278]: #route_config

[279]: #roles

[280]: #permissions

[281]: #access_object

[282]: #proxy

[283]: #guest_mode

[284]: #auth_if_exists

[285]: #auth

[286]: #createproxywrappercallback

[287]: #apipluginfullfactory

[288]: #apipluginfactory

[289]: #proxyroute

[290]: #proxyroutepluginfactory

[291]: #createendpointserviceconfig

[292]: #host

[293]: #host-1

[294]: #services_host

[295]: #services_host-1

[296]: #request_timeout

[297]: #request_timeout-1

[298]: #createendpointfactoryfromenv

[299]: #createtempfile

[300]: #cookie

[301]: #downloadfile-2

[302]: #dirnamenormalize

[303]: #inmodules

[304]: #sendsimplerequest

[305]: #getendpointserviceurl

[306]: #sendendpointmethodrequest

[307]: #factoryendpointservicemethodrequest

[308]: #proceedrequest-1

[309]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[310]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[311]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[312]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[313]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[314]: #baseapiclientclass

[315]: http://dev.reagentum.ru:8098/api/projects?search=&sortBy=releaseDate&sortDesc=false&startPage=0&itemsPerPage=20&filters%5BprojectType%5D=START&filters%5Bsupervisor%5D=1&filters%5Bsupervisor%5D=2&filters%5BproductIds%5D=3&filters%5BproductIds%5D=4&groupBy=name

[316]: https://github.com/hapijs/boom

[317]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[318]: https://stackoverflow.com/a/45332959/344172

[319]: https://gist.github.com/dcollien/312bce1270a5f511bf4a

[320]: https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md#lists-of-items

[321]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Limiting_accepted_file_types

[322]: http://localhost:8080/3b5f332a-45a7-49a8-9a1e-5b9225bd831e"

[323]: https://tools.ietf.org/html/rfc6749#

[324]: https://github.com/hapijs/h2o2

[325]: http://localhost:

[326]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[327]: https://raszi.github.io/node-tmp/

[328]: https://github.com/webpack/webpack/issues/1599

[329]: https://www.npmjs.com/package/glob#glob-primer

[330]: https://github.com/request/request#requestoptions-callback

[331]: https://stackoverflow.com/questions/14855015/getting-binary-content-in-node-js-using-request

[332]: https://www.npmjs.com/package/request

[333]: https://hapijs.com/api#serverinjectoptions-callback
