const WEBPACK_CONFIG_UTILS={extractPlugins(a=[]){let b=[],c=[],d=[];return"function"==typeof a?c=[a]:Array.isArray(a)?c=a:(b=a.startPlugins||[],c=a.middlePlugins||[],d=a.finishPlugins||[]),{startPlugins:b,middlePlugins:c,finishPlugins:d}},expandPlugins(...a){const b=this.extractPlugins();return a.length&&a.forEach(a=>{const c=this.extractPlugins(a);b.startPlugins.push(...c.startPlugins),b.middlePlugins.push(...c.middlePlugins),b.finishPlugins.push(...c.finishPlugins)}),b},getWebpackConfig(a,b=[]){const c={},{startPlugins:d,middlePlugins:e,finishPlugins:f}=this.extractPlugins(b);return d.map(b=>b(c,a)),e.map(b=>b(c,a)),f.map(b=>b(c,a)),c},getUniWebpackConfig(a,b){const c=this.expandPlugins({startPlugins:[require("./plugins/plugin-start-init-empty")],middlePlugins:[require("./plugins/plugin-environments"),require("./plugins/plugin-code-jsx"),require("./plugins/plugin-code-babel-options"),require("./plugins/plugin-file-image"),require("./plugins/plugin-file-font"),require("./plugins/plugin-file-html"),require("./plugins/plugin-file-ejs"),require("./plugins/plugin-style-css"),require("./plugins/plugin-style-less"),require("./plugins/plugin-style-post-css"),require("./plugins/plugin-style-sass"),require("./plugins/plugin-react"),require("./plugins/plugin-devtool"),require("./plugins/plugin-optimize-scope-hoisting")],finishPlugins:[require("./plugins/plugin-finish-production-minimum")]},b);return this.getWebpackConfig(a,c)},getFrontendWebpackConfig(a,b){return this.getUniWebpackConfig(a,this.expandPlugins({startPlugins:[require("./plugins/frontend/plugin-frontend-main")],middlePlugins:[require("./plugins/frontend/plugin-split-vendors"),require("./plugins/frontend/plugin-file-static"),require("./plugins/frontend/plugin-index-html"),require("./plugins/frontend/plugin-frontend-hot-reload")],finishPlugins:[require("./plugins/frontend/plugin-finish-polyfills")]},b))},getBackendWebpackConfig(a,b){return this.getUniWebpackConfig(a,this.expandPlugins({startPlugins:[require("./plugins/backend/plugin-backend-main")],middlePlugins:[require("./plugins/backend/plugin-i18n-files")]},b))},getStaticWebpackConfig(){throw new Error("// todo @ANKU @LOW - static")},getTestWebpackConfig(a,b){return this.getUniWebpackConfig(a,this.expandPlugins({finishPlugins:[require("./plugins/frontend/plugin-finish-polyfills")]},b))}};module.exports=WEBPACK_CONFIG_UTILS;