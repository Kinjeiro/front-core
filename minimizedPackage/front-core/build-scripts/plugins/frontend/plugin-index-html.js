const merge=require("lodash/merge"),HtmlWebpackPlugin=require("html-webpack-plugin"),CONTEXT_PATH="contextPath",GLOBAL_CLIENT_STORE_INITIAL_STATE="__data",STATE_CLIENT_CONFIG_PARAM="clientConfig";function pluginIndexHtml(a,b){const{appConfig:c,assetsDir:d,inCoreSrcRelative:e}=b,f=c.common.app.contextRoot.replace(/^\//g,""),g=merge({},{common:c.common,client:c.client});a.plugins.push(new HtmlWebpackPlugin({template:e("static-client/index.template.ejs"),filename:"index.html",inject:!1,CONTEXT_PATH,GLOBAL_CLIENT_STORE_INITIAL_STATE,assetsDir:`/${f?`${f}/`:""}${d}`,contextPath:f,storeState:JSON.stringify({[STATE_CLIENT_CONFIG_PARAM]:g})}))}module.exports=pluginIndexHtml;